name: Deploy Staging (launcher)

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  call-reusable:
    environment: staging
    uses: ./cicd/deploy.yml
    with:
      AWS_REGION: ${{ vars.AWS_REGION }}
      ECR_REPO_FE: ${{ vars.ECR_REPO_FE }}
      ECR_REPO_BE: ${{ vars.ECR_REPO_BE }}
      GH_OWNER:   ${{ vars.GH_OWNER }}
      GH_REPO:    ${{ vars.GH_REPO }}
    secrets:
      AWS_ACCOUNT_ID: ${{ secrets.AWS_ACCOUNT_ID }}
